syntax = "proto3";

package api;

option go_package = "github.com/lk2023060901/xdooria-proto-api;api";

// OpCode 全局协议号定义
enum OpCode {
    OP_NONE = 0;

    // 系统协议 (1 - 99)
    OP_SYS_HEARTBEAT = 1;     // 心跳

    // 登录系统 (1000 - 1999)
    OP_LOGIN_REQ = 1000;      // 登录请求
    OP_LOGIN_RES = 1001;      // 登录响应
    OP_AUTH_REQ = 1002;       // 网关首次认证请求 (LoginToken)
    OP_AUTH_RES = 1003;       // 网关认证响应 (SessionToken, UID, Roles)
    OP_RECONNECT_REQ = 1004;  // 网关重连请求 (SessionToken)
    OP_RECONNECT_RES = 1005;  // 网关重连响应
    OP_SELECT_ROLE_REQ = 1006; // 选择角色请求
    OP_SELECT_ROLE_RES = 1007; // 选择角色响应
    OP_CREATE_ROLE_REQ = 1008; // 创建角色请求
    OP_CREATE_ROLE_RES = 1009; // 创建角色响应
    OP_GET_ROLES_REQ = 1010;   // 获取角色列表请求
    OP_GET_ROLES_RES = 1011;   // 获取角色列表响应

    // 场景系统 (2000 - 2999)
    OP_ENTER_SCENE_REQ = 2000;  // 进入场景请求
    OP_ENTER_SCENE_RES = 2001;  // 进入场景响应

    // 玩偶系统 (3000 - 3099)
    OP_DOLL_LIST_REQ = 3000;      // 获取玩偶列表请求
    OP_DOLL_LIST_RES = 3001;      // 获取玩偶列表响应
    OP_DOLL_FAVORITE_REQ = 3002;  // 收藏/取消收藏请求
    OP_DOLL_FAVORITE_RES = 3003;  // 收藏/取消收藏响应
    OP_DOLL_LOCK_REQ = 3004;      // 锁定/取消锁定请求
    OP_DOLL_LOCK_RES = 3005;      // 锁定/取消锁定响应
    OP_DOLL_REDEEM_REQ = 3006;    // 兑换实体玩偶请求
    OP_DOLL_REDEEM_RES = 3007;    // 兑换实体玩偶响应

    // 开盲盒系统 (3100 - 3199)
    OP_GACHA_LIST_REQ = 3100;     // 获取盲盒列表请求
    OP_GACHA_LIST_RES = 3101;     // 获取盲盒列表响应
    OP_GACHA_DRAW_REQ = 3102;     // 抽奖请求（单抽/十连）
    OP_GACHA_DRAW_RES = 3103;     // 抽奖响应

    // 熔炼系统 (3200 - 3299)
    OP_SMELT_DO_REQ = 3200;       // 执行熔炼请求
    OP_SMELT_DO_RES = 3201;       // 执行熔炼响应

    // 物品系统通知 (9000 - 9099)
    OP_ITEM_CHANGE_NOTIFY = 9000; // 物品变化通知（服务器主动推送）
}
